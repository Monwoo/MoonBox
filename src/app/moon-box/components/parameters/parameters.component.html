<!-- Copyright Monwoo 2018, made by Miguel Monwoo, service@monwoo.com -->
<mat-card class="toolbox">
  <div>
    <button
      mat-button
      color="primary"
      matTooltip="{{'Reset parameters to factory'|translate}}"
      (click)="resetConfigAction($event)"
    >
      <i class="fas fa-power-off"></i> {{ 'Reset' | translate }}
    </button>
    <mat-form-field class="float-right lang-field">
      <mat-select placeholder="{{langPlaceholder|translate}}" [value]="currentLanguage">
        <mat-option *ngFor="let language of languages" (click)="setLanguage(language)" [value]="language">
          {{ language | translate }}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>
</mat-card>

<mat-card *ngIf="this.storage.isLocked">
  <p>{{ 'Stockage verouillé, vous pouvez reset tout le stockage ou essayer de le déverouiller :' }}</p>
  <button mat-button color="primary" matTooltip="{{'Déverouiller Moon Box'|translate}}" (click)="lockScreen($event)">
    <i class="fas fa-unlock"></i> {{ 'Déverouiller' | translate }}
  </button>
</mat-card>

<mat-card *ngIf="!this.storage.isLocked">
  <form>
    <mat-form-field class="">
      <input
        name="passCode"
        [(ngModel)]="passCode"
        [ngModelOptions]="{ standalone: true }"
        autocomplete="new-password"
        matInput
        [placeholder]="'Code de vérouillage' | translate"
        type="password"
      />
    </mat-form-field>
  </form>
  <button
    mat-button
    color="primary"
    matTooltip="{{'Définir le code de sécurité'|translate}}"
    (click)="setSecurityCode($event)"
  >
    <i class="fas fa-unlock"></i> {{ 'Définir' | translate }}
  </button>
</mat-card>

<mat-card *ngIf="!this.storage.isLocked">
  <strong>{{ 'mb.param.exportBckp.slct.lbl' | translate }}</strong>
  <button
    mat-button
    color="primary"
    matTooltip="{{'mm.param.exportBckp.tooltip'|translate}}"
    (click)="processingBckpExport($event)"
  >
    <i class="fas fa-file"></i> {{ 'mb.param.exportBckp.btn' | translate }}
  </button>
  <dropzone
    *ngIf="dropzoneBckp"
    [config]="dropzoneBckp"
    [message]="'mm.param.importBckp.dzone.msg' | translate"
    (error)="onUploadBckpError($event)"
  ></dropzone>
  <mat-progress-bar mode="determinate" [value]="timingsProgress"></mat-progress-bar>
</mat-card>

<mat-card>
  <a href="https://github.com/Monwoo/MoonBox">
    {{ 'Project under M.I.T. Licence. Build by Monwoo.' | translate }}
    <img src="https://www.monwoo.com/LogoMonwoo-32.png" alt="" />
  </a>
</mat-card>
